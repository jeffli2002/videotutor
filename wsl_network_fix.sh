#!/bin/bash

echo "üö® WSL2 Network Connection Completely Blocked"
echo "============================================="
echo ""
echo "üîç ISSUE: All IP addresses refuse connection"
echo "This indicates WSL2 networking is not properly configured"
echo ""
echo "üîß WINDOWS-SIDE FIXES REQUIRED:"
echo ""
echo "1Ô∏è‚É£ RESTART WSL2 (Run in Windows CMD/PowerShell):"
echo "   wsl --shutdown"
echo "   wsl"
echo ""
echo "2Ô∏è‚É£ RESET WSL2 NETWORKING (Windows PowerShell as Admin):"
echo "   wsl --shutdown"
echo "   netsh winsock reset"
echo "   netsh int ip reset"
echo "   wsl"
echo ""
echo "3Ô∏è‚É£ WINDOWS FIREWALL (Windows Settings):"
echo "   ‚Ä¢ Windows Security ‚Üí Firewall & network protection"
echo "   ‚Ä¢ Allow an app through firewall"
echo "   ‚Ä¢ Add 'Node.js' and 'WSL' if not present"
echo "   ‚Ä¢ Enable for Private networks"
echo ""
echo "4Ô∏è‚É£ HYPER-V/WSL2 FEATURE CHECK (Windows PowerShell as Admin):"
echo "   dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart"
echo "   dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart"
echo ""
echo "5Ô∏è‚É£ ALTERNATIVE: FILE-BASED ACCESS"
echo "   ‚Ä¢ Open Windows File Explorer"
echo "   ‚Ä¢ Navigate to: \\\\wsl$\\Ubuntu\\mnt\\d\\AI\\VideoTutor\\dist"
echo "   ‚Ä¢ Double-click index.html"
echo ""
echo "6Ô∏è‚É£ USE WINDOWS-SIDE DEVELOPMENT:"
echo "   ‚Ä¢ Copy project to Windows (e.g., C:\\VideoTutor)"
echo "   ‚Ä¢ Run npm commands from Windows Command Prompt"
echo ""
echo "üéØ IMMEDIATE SOLUTIONS:"
echo ""
echo "Option A - File Access:"
echo "1. Open File Explorer"
echo "2. Address bar: \\\\wsl$\\Ubuntu\\mnt\\d\\AI\\VideoTutor\\dist"
echo "3. Double-click index.html"
echo ""
echo "Option B - Copy to Windows:"
echo "1. Copy entire VideoTutor folder to C:\\"
echo "2. Open Windows Command Prompt"
echo "3. cd C:\\VideoTutor"
echo "4. npm install"
echo "5. npm run dev"
echo ""
echo "üöÄ The file-based access should work immediately!"
echo ""
echo "üìÅ Direct file path: \\\\wsl$\\Ubuntu\\mnt\\d\\AI\\VideoTutor\\dist\\index.html"