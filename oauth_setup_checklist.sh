#!/bin/bash

echo "üîê Google OAuth Configuration Quick Reference"
echo "============================================="
echo ""
echo "üìã STEP-BY-STEP CHECKLIST:"
echo ""
echo "‚òê 1. Google Cloud Console Setup"
echo "   ‚Ä¢ Visit: https://console.cloud.google.com/"
echo "   ‚Ä¢ Create/select project: 'MathTutor AI'"
echo "   ‚Ä¢ Enable APIs: Google+ API, People API"
echo "   ‚Ä¢ Configure OAuth consent screen"
echo "   ‚Ä¢ Create OAuth 2.0 credentials"
echo ""
echo "‚òê 2. Get Your Supabase Project URL"
echo "   ‚Ä¢ Go to: https://app.supabase.com/"
echo "   ‚Ä¢ Copy your project URL: https://[PROJECT_ID].supabase.co"
echo ""
echo "‚òê 3. Configure Redirect URIs in Google Cloud Console"
echo "   ‚Ä¢ JavaScript origins: http://localhost:5173"
echo "   ‚Ä¢ Redirect URIs:"
echo "     - https://[YOUR_PROJECT_ID].supabase.co/auth/v1/callback"
echo "     - http://localhost:5173/auth/callback"
echo ""
echo "‚òê 4. Enable Google Provider in Supabase"
echo "   ‚Ä¢ Go to Authentication ‚Üí Providers"
echo "   ‚Ä¢ Enable Google"
echo "   ‚Ä¢ Add Client ID and Client Secret from Google Cloud Console"
echo ""
echo "‚òê 5. Configure Site URL in Supabase"
echo "   ‚Ä¢ Go to Authentication ‚Üí URL Configuration"
echo "   ‚Ä¢ Site URL: http://localhost:5173"
echo "   ‚Ä¢ Redirect URLs (add each separately):"
echo "     - http://localhost:5173"
echo "     - http://localhost:5173/"
echo "     - http://localhost:5173/auth/callback"
echo ""
echo "üîç CURRENT SUPABASE PROJECT INFO:"
echo "‚Ä¢ Project URL format: https://[PROJECT_ID].supabase.co"
echo "‚Ä¢ To find your Project ID:"
echo "  1. Go to https://app.supabase.com/"
echo "  2. Select your project"
echo "  3. Look at the URL or Settings ‚Üí General"
echo ""
echo "‚ö†Ô∏è  IMPORTANT NOTES:"
echo "‚Ä¢ Keep Client Secret secure - never expose in frontend"
echo "‚Ä¢ OAuth changes can take 5-10 minutes to propagate"
echo "‚Ä¢ Test in incognito/private browsing mode"
echo "‚Ä¢ Double-check all URLs exactly match (no trailing slashes)"
echo ""
echo "üß™ TESTING STEPS:"
echo "1. Start your app: npm run dev"
echo "2. Go to: http://localhost:5173"
echo "3. Click login ‚Üí 'Continue with Google'"
echo "4. Should redirect to Google OAuth consent screen"
echo "5. After approval, should redirect back and log in"
echo ""
echo "üÜò COMMON ERRORS & SOLUTIONS:"
echo "‚Ä¢ redirect_uri_mismatch ‚Üí Check redirect URIs in Google Cloud Console"
echo "‚Ä¢ unauthorized_client ‚Üí Verify OAuth consent screen is configured"
echo "‚Ä¢ access_denied ‚Üí Check scopes and test user settings"
echo ""
echo "üìñ FULL GUIDE: See GOOGLE_OAUTH_SETUP.md for detailed instructions"
echo ""
echo "‚úÖ Ready to configure Google OAuth!"